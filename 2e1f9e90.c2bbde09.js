(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{108:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return n})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return l}));var i=r(1),o=r(6),a=(r(0),r(133)),n={id:"messaging-claimsimport",title:"Bridge Protocol Claims Import Protocol",sidebar_label:"Claims Import Protocol"},c={id:"messaging-claimsimport",title:"Bridge Protocol Claims Import Protocol",description:"# Bridge Protcol Claims Import Protocol\r",source:"@site/..\\docs\\messaging-claimsimport.md",permalink:"/docs/messaging-claimsimport",sidebar_label:"Claims Import Protocol",sidebar:"someSidebar",previous:{title:"Bridge Protocol Authentication Protocol",permalink:"/docs/messaging-auth"},next:{title:"Bridge Protocol Payment Protocol",permalink:"/docs/messaging-payment"}},s=[{value:"Creating a Claims Import Request",id:"creating-a-claims-import-request",children:[]},{value:"Verifying the Claims Import Request",id:"verifying-the-claims-import-request",children:[]},{value:"Verifying the Encrypted Claim Packages for Import",id:"verifying-the-encrypted-claim-packages-for-import",children:[]}],p={rightToc:s};function l(e){var t=e.components,r=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(i.a)({},p,r,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"bridge-protcol-claims-import-protocol"},"Bridge Protcol Claims Import Protocol"),Object(a.b)("p",null,"The claims import protocol is used by a passport that wishes to sign and provide an encrypted claim package to be imported to another passport.  This is the protocol used by all Bridge Marketplace providers to issue and transmit secure claims."),Object(a.b)("img",{src:"https://github.com/bridge-protocol/bridge-protocol-js/blob/ethereum-publishing/docs/images/message-claimsimport.jpg?raw=true"}),Object(a.b)("h2",{id:"creating-a-claims-import-request"},"Creating a Claims Import Request"),Object(a.b)("p",null,"The verification provdier will create the import request to allow the recipient passport to accept and import the claims"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"let claimsImportRequest = await _bridge.Messaging.Claim.createClaimsImportRequest(passport, password, claimPackages);\n")),Object(a.b)("h2",{id:"verifying-the-claims-import-request"},"Verifying the Claims Import Request"),Object(a.b)("p",null,"The recieving passport will verify the integrity of the import request by ensuring the message was signed by the passport that transmitted the import request."),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"let verifiedImportRequest = await _bridge.Messaging.Claim.verifyClaimsImportRequest(claimsImportRequest);\n")),Object(a.b)("p",null,"Optionally, they can verify that the signing passport was a known Bridge Network Partner in good standing by calling the Bridge Network API to get infomration about the issuing passport"),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"var passportDetails = await _bridge.Services.Passport.getDetails(passport, password, verifiedImportRequest.passportId);\n")),Object(a.b)("h2",{id:"verifying-the-encrypted-claim-packages-for-import"},"Verifying the Encrypted Claim Packages for Import"),Object(a.b)("p",null,"The receiving passport will receive the claim packages provided and verify each has been signed by the desired network partner and that the integrity has not been compromised.  Any claims that have been compromised or improperly signed will not be included in the final collection of claims to be imported."),Object(a.b)("pre",null,Object(a.b)("code",Object(i.a)({parentName:"pre"},{}),"let verifiedClaimPackages = await _bridge.Utils.Claim.verifyClaimPackagesForImport(passport, password, verifiedImportRequest.payload.claimsImportRequest.claimPackages);\n")))}l.isMDXComponent=!0},133:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return b}));var i=r(0),o=r.n(i);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,i,o=function(e,t){if(null==e)return{};var r,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=o.a.createContext({}),l=function(e){var t=o.a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):c({},t,{},e)),r},m=function(e){var t=l(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},u=Object(i.forwardRef)((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,n=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=l(r),u=i,b=m["".concat(n,".").concat(u)]||m[u]||d[u]||a;return r?o.a.createElement(b,c({ref:t},p,{components:r})):o.a.createElement(b,c({ref:t},p))}));function b(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,n=new Array(a);n[0]=u;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:i,n[1]=c;for(var p=2;p<a;p++)n[p]=r[p];return o.a.createElement.apply(null,n)}return o.a.createElement.apply(null,r)}u.displayName="MDXCreateElement"}}]);